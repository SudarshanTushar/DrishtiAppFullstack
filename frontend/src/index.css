@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* 1. TYPOGRAPHY & THEME ROOT */
  font-family: 'Inter', 'JetBrains Mono', 'Roboto Mono', system-ui, -apple-system, sans-serif;
  line-height: 1.5;
  font-weight: 400;

  /* 2. COLOR SCHEME - Tactical Dark Mode */
  color-scheme: dark;
  color: rgba(255, 255, 255, 0.9);
  background-color: #020617; /* Slate 950 (Darker Base) */

  /* 3. TACTICAL PALETTE VARIABLES */
  --gov-blue: #0f172a;
  --gov-accent: #3b82f6;
  --danger: #ef4444;
  --safe: #10b981;
  --mesh-active: #059669; /* Emerald 600 */
}

body {
  margin: 0;
  width: 100%;
  height: 100%;
  overflow-x: hidden;
  background-color: #020617;
  
  /* Mobile Optimizations */
  -webkit-tap-highlight-color: transparent;
  overscroll-behavior-y: none; /* Prevents "pull-to-refresh" on web apps */
  user-select: none; /* App-like feel, prevents accidental text selection */
}

/* --- üñ±Ô∏è CUSTOM SELECTION (Tactical Green) --- */
::selection {
  background: rgba(16, 185, 129, 0.3); /* Emerald tint */
  color: #ffffff;
}

/* --- üì± SAFE AREA UTILITIES (REQUIRED FOR NOTCH) --- */
/* These are used in your NetworkView.jsx */
.pt-safe-top {
  padding-top: env(safe-area-inset-top, 20px);
}

.pb-safe-bottom {
  padding-bottom: env(safe-area-inset-bottom, 20px);
}

/* --- ‚å®Ô∏è INPUT AUTOFILL FIX (Dark Mode) --- */
/* Prevents inputs from turning white when Android/Chrome autofills */
input:-webkit-autofill,
input:-webkit-autofill:hover, 
input:-webkit-autofill:focus, 
input:-webkit-autofill:active {
    -webkit-box-shadow: 0 0 0 30px #000 inset !important;
    -webkit-text-fill-color: white !important;
    transition: background-color 5000s ease-in-out 0s;
}

/* --- üó∫Ô∏è MAP ENGINE FIXES --- */
.mapboxgl-map, .leaflet-container {
  width: 100%;
  height: 100%;
  background-color: #0f172a; 
  z-index: 0;
}

/* --- üñ±Ô∏è CUSTOM SCROLLBAR (Slim & Tactical) --- */
::-webkit-scrollbar {
  width: 4px; /* Thinner for mobile */
  height: 4px;
}
::-webkit-scrollbar-track {
  background: #020617; 
}
::-webkit-scrollbar-thumb {
  background: #334155; /* Slate 700 */
  border-radius: 2px;
}
::-webkit-scrollbar-thumb:hover {
  background: #475569; /* Slate 600 */
}

/* --- ‚ö° ANIMATIONS --- */

/* 1. Radar Scan Effect */
@keyframes scanline {
  0% { transform: translateY(-100%); opacity: 0; }
  50% { opacity: 1; }
  100% { transform: translateY(100%); opacity: 0; }
}

.animate-scanline {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 100%;
  background: linear-gradient(to bottom, transparent, rgba(16, 185, 129, 0.1), transparent);
  animation: scanline 4s linear infinite;
  pointer-events: none;
  z-index: 10;
}

/* 2. Critical Alert Pulse */
@keyframes critical-pulse {
  0%, 100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7); }
  70% { box-shadow: 0 0 0 10px rgba(239, 68, 68, 0); }
}

.animate-critical {
  animation: critical-pulse 2s infinite;
}

/* --- üìä UTILITY CLASSES --- */

/* Glassmorphism for floating headers */
.glass-panel {
  background: rgba(2, 6, 23, 0.85);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}

/* Allow text selection only in logs */
.select-text {
  user-select: text;
}